# HTTP API

## 持ち時間タイプの一覧
```
GET /types
```


# WebSocket JSON APIの一覧  
## 共通項

全てのリクエスト/レスポンスメッセージは、トップレベルに"class"プロパティを持ちます。

[詳細](./json_api_common.md)

## 一覧（ロビー)
| "class" | 種別 | 概要 |
|:-----|:-----:|:-----|
| entry | リクエスト | ゲームサーバに名前と持ち時間設定を登録し、対戦相手を探します。 |
| match | 通知 | サーバが対戦相手を見つけた場合の通知。 |

[詳細](./json_api_matching.md)


## 一覧（プレイ中)
| "class" | 種別 | 概要 |
|:-----|:-----:|:-----|
| show | リクエスト/レスポンス | 盤面・手駒・残り時間の取得。手番ではなくてもリクエストできます。timeの方が情報量が少ないのでなるべくtimeを使ってください。 |
| time | リクエスト/レスポンス | 残り時間の取得。手番ではない時にもリクエストできます。 |
| step | リクエスト | |
| put  | リクエスト | |
| your_turn | 通知 | 手番になったタイミングの通知 |
| reface | (stepリクエストに対する)レスポンス/リクエスト | 成金するかどうかの問い合わせ/reface問い合わせに対する返答リクエスト |
| result | 通知 | 勝敗が決定したタイミングの通知 |
| error | レスポンス | エラー。不可能な挙動をリクエストしたり、手番ではない時にstepやputリクエストを送るとerrorレスポンスが返ります。 |
| retired | 通知 | 対戦相手のWebSocketが切断されたことの通知 |
* サーバからクライアントへの通信という意味で、レスポンスと通知は同じものです。ここではリクエストに対する応答をレスポンス、リクエストを伴わないものを通知と呼んでいます。

[詳細](./json_api_gs.md)
